"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[8768],{16445:(t,e,i)=>{i.d(e,{$u:()=>u,By:()=>h,He:()=>c,WB:()=>v,c$:()=>f,gl:()=>m,i:()=>p,sR:()=>x,s_:()=>_,u6:()=>d,wt:()=>w});var a=i(66345),s=i(14313),o=i(52867),n=i(75809);const l=(t,e)=>{try{const[i,a]=t.split(","),s=i.match(/:(.*?);/)[1],o=atob(a),n=o.length,l=new Uint8Array(n);for(let t=0;t<n;t++)l[t]=o.charCodeAt(t);return new File([l],e,{type:s})}catch(i){return console.error("Error converting base64 data to file:",i),null}},r=async(t,e)=>{const i=await fetch(t),a=await i.blob();return new File([a],e,{type:a.type,lastModified:Date.now()})},c=(t,e,i)=>{let a="blob"==e?r(t,"camera.png"):t;if(a){const t=URL.createObjectURL(a);t&&i&&i(t)}},d=(t,e,i)=>{let a="blob"==e?l(t,"camera.png"):t;if(a){const t=URL.createObjectURL(a);t&&i&&i(t)}},h=(t,e,i,a)=>{const s=t.img.width*t.scale,o=t.img.height*t.scale,{initialWidthRatio:l,initialHeightRatio:r}=f(a),c=Math.max(l,r),d=(t.rotation||0)*Math.PI/180,h=t.x+s/2,_=t.y+o/2,u=s/2,p=o/2,v=e-(h+(u*Math.cos(d)-p*Math.sin(d))),m=i-(_+(u*Math.sin(d)+p*Math.cos(d)));return Math.sqrt(v*v+m*m)<=g(n.DT,7)/2*c},_=(t,e,i)=>{const a=t.img.width*t.scale,s=t.img.height*t.scale;return e>t.x&&e<t.x+a&&i>t.y&&i<t.y+s},u=(t,e,i,a)=>{const{img:s,scale:o,x:l,y:r,rotation:c=0}=t,{initialWidthRatio:d,initialHeightRatio:h}=f(a),_=Math.max(d,h),u=s.width*o,p=s.height*o,v=l+u/2,m=r+p/2,x=u/2,w=-p/2-3,b=c*Math.PI/180,j=e-(v+x*Math.cos(b)-w*Math.sin(b)),C=i-(m+x*Math.sin(b)+w*Math.cos(b));return Math.sqrt(j*j+C*C)<=g(n.DT,7)*_},p=(t,e,i,a,s)=>{var n;const{initialWidthRatio:l,initialHeightRatio:r}=f(s),c=t.scale||1,d=t.fontSize||20,h=t.x,_=t.y,u=(a*c+20)*l,p=(((null===(n=t.text)||void 0===n?void 0:n.split("\n"))||[]).length*d*c+20)*r,v=(0,o.qs)()?c>0?20/c:20:0,m=e-h,g=i-_,x=(t.rotation||0)*Math.PI/180,w=Math.cos(-x),b=Math.sin(-x),j=(m*w-g*b)/c,C=(m*b+g*w)/c;return j>=-u/(2*c)&&j<=u/(2*c)&&C>=-p/(2*c)-v&&C<=p/(2*c)+v},v=(t,e,i,a,s)=>{var o;const{initialWidthRatio:n,initialHeightRatio:l}=f(s),r=Math.max(n,l),c=t.scale||1,d=t.fontSize||20,h=(null===(o=t.text)||void 0===o?void 0:o.split("\n"))||[],_=1.2*d*Math.max(h.length,1)*c+20,u=a*c+20,p=g(16),v=t.x,m=t.y,x=u/2*n,w=_/2*l,b=(t.rotation||0)*Math.PI/180,j=e-(v+x*Math.cos(b)-w*Math.sin(b)),C=i-(m+x*Math.sin(b)+w*Math.cos(b));return j*j+C*C<(p/2)**2*r**2},m=(t,e,i,a,s)=>{var o;const{initialWidthRatio:n,initialHeightRatio:l}=f(s),r=Math.max(n,l),c=t.scale||1,d=t.fontSize||20,h=g(16),_=t.x,u=t.y,p=(null===(o=t.text)||void 0===o?void 0:o.split("\n"))||[],v=(a*c+20)/2*n,m=-(1.2*d*Math.max(p.length,1)*c+20)/2*l,x=(t.rotation||0)*Math.PI/180,w=e-(_+v*Math.cos(x)-m*Math.sin(x)),b=i-(u+v*Math.sin(x)+m*Math.cos(x));return w*w+b*b<(h/2)**2*r**2},g=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(0,o.qs)()?2*t+e:t},x=(t,e,i,a,s)=>{const o=s*Math.PI/180,n=Math.cos(o),l=Math.sin(o);return{x:i+(t-i)*n-(e-a)*l,y:a+(t-i)*l+(e-a)*n}},f=t=>({initialWidthRatio:Math.max(1,t?t.width/n.cO:1),initialHeightRatio:Math.max(1,t?t.height/n.ps:1)}),w=async(t,e,i)=>{try{var o,n;if(!e)return t;const c="photo-booth-".concat(e,".png"),d="uploadURL"==i?await l(t,c):await r(t,c),h=new FormData;h.append("media",d);const _=await(new s.A).post("".concat(a.M_,"/").concat(e,"?type=").concat(i),h,{headers:{"Content-Type":"multipart/form-data"}});return null!==(o=null===_||void 0===_||null===(n=_.data)||void 0===n?void 0:n.responseData)&&void 0!==o?o:null}catch(c){return t}}},40347:(t,e,i)=>{i.d(e,{Ay:()=>h,KH:()=>c,_E:()=>r});var a=i(9950),s=i(66345),o=i(96011),n=i.n(o),l=i(44414);const r=()=>(0,l.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,l.jsx)("path",{d:"M9.89539 6.67812C10.1534 6.58595 10.3266 6.33964 10.3266 6.06577C10.3266 5.79191 10.1534 5.54559 9.89645 5.45342L8.71518 5.02753C8.14049 4.82136 7.61855 4.49055 7.18683 4.05882C6.7551 3.62709 6.42428 3.10515 6.21811 2.53046L5.79222 1.3492C5.74665 1.22352 5.66358 1.11488 5.55425 1.03795C5.44492 0.961021 5.31461 0.919523 5.18093 0.919067C4.90759 0.919067 4.66128 1.09175 4.56805 1.3492L4.14269 2.53046C3.93656 3.10526 3.60569 3.62728 3.17386 4.05903C2.74202 4.49077 2.21993 4.82153 1.64508 5.02753L0.464879 5.45342C0.206908 5.54612 0.0336914 5.79191 0.0336914 6.06577C0.0336914 6.33964 0.206908 6.58542 0.46382 6.67812L1.64508 7.10401C2.21981 7.31012 2.74178 7.64091 3.17352 8.07265C3.60526 8.50439 3.93605 9.02636 4.14216 9.60109L4.56805 10.7829C4.66075 11.0398 4.90707 11.2125 5.1804 11.2125C5.45373 11.2125 5.70005 11.0393 5.79222 10.7824L6.21811 9.60109C6.42428 9.02639 6.7551 8.50446 7.18683 8.07273C7.61855 7.641 8.14049 7.31018 8.71518 7.10401L9.89539 6.67812Z",fill:"url(#paint0_linear_8573_5744)"}),(0,l.jsx)("path",{d:"M13.6629 11.7821C13.8087 11.73 13.9066 11.5908 13.9066 11.436C13.9066 11.2812 13.8087 11.142 13.6635 11.0899L12.9958 10.8492C12.671 10.7326 12.376 10.5456 12.1319 10.3016C11.8879 10.0576 11.7009 9.76259 11.5844 9.43776L11.3437 8.77009C11.3179 8.69906 11.271 8.63765 11.2092 8.59417C11.1474 8.55069 11.0737 8.52724 10.9982 8.52698C10.8437 8.52698 10.7045 8.62458 10.6518 8.77009L10.4113 9.43776C10.2948 9.76265 10.1078 10.0577 9.86374 10.3017C9.61966 10.5458 9.32457 10.7327 8.99965 10.8492L8.33258 11.0899C8.18677 11.1423 8.08887 11.2812 8.08887 11.436C8.08887 11.5908 8.18677 11.7297 8.33198 11.7821L8.99965 12.0228C9.3245 12.1393 9.61953 12.3263 9.86355 12.5703C10.1076 12.8143 10.2945 13.1094 10.411 13.4342L10.6518 14.1022C10.7042 14.2474 10.8434 14.345 10.9979 14.345C11.1524 14.345 11.2916 14.2471 11.3437 14.1019L11.5844 13.4342C11.7009 13.1094 11.8879 12.8144 12.1319 12.5704C12.376 12.3263 12.671 12.1393 12.9958 12.0228L13.6629 11.7821Z",fill:"url(#paint1_linear_8573_5744)"}),(0,l.jsxs)("defs",{children:[(0,l.jsxs)("linearGradient",{id:"paint0_linear_8573_5744",x1:"5.69478",y1:"1.07347",x2:"5.28302",y2:"11.0581",gradientUnits:"userSpaceOnUse",children:[(0,l.jsx)("stop",{stopColor:"#654985"}),(0,l.jsx)("stop",{offset:"1",stopColor:"#E16490"})]}),(0,l.jsxs)("linearGradient",{id:"paint1_linear_8573_5744",x1:"11.2886",y1:"8.61425",x2:"11.0559",y2:"14.2577",gradientUnits:"userSpaceOnUse",children:[(0,l.jsx)("stop",{stopColor:"#654985"}),(0,l.jsx)("stop",{offset:"1",stopColor:"#E16490"})]})]})]}),c=()=>(0,l.jsxs)("svg",{width:"14",height:"15",viewBox:"0 0 14 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,l.jsx)("path",{d:"M9.95199 6.53749C10.2123 6.44448 10.3871 6.19591 10.3871 5.91954C10.3871 5.64317 10.2123 5.39459 9.95305 5.30158L8.76098 4.87179C8.18102 4.66373 7.65431 4.32989 7.21863 3.8942C6.78294 3.45852 6.4491 2.93181 6.24104 2.35185L5.81125 1.15977C5.76526 1.03295 5.68143 0.923309 5.5711 0.845677C5.46077 0.768045 5.32927 0.726168 5.19436 0.725708C4.91853 0.725708 4.66995 0.899976 4.57587 1.15977L4.14662 2.35185C3.9386 2.93192 3.60471 3.45872 3.16892 3.89442C2.73313 4.33011 2.20625 4.6639 1.62614 4.87179L0.435135 5.30158C0.174803 5.39513 0 5.64317 0 5.91954C0 6.19591 0.174803 6.44394 0.434066 6.53749L1.62614 6.96728C2.20614 7.17527 2.73289 7.5091 3.16858 7.94479C3.60427 8.38048 3.93809 8.90723 4.14608 9.48722L4.57587 10.6798C4.66942 10.9391 4.91799 11.1134 5.19383 11.1134C5.46966 11.1134 5.71824 10.9386 5.81125 10.6793L6.24104 9.48722C6.4491 8.90726 6.78294 8.38055 7.21863 7.94487C7.65431 7.50919 8.18102 7.17534 8.76098 6.96728L9.95199 6.53749Z",fill:"white"}),(0,l.jsx)("path",{d:"M13.7539 11.688C13.9011 11.6354 13.9999 11.4949 13.9999 11.3387C13.9999 11.1825 13.9011 11.042 13.7545 10.9894L13.0808 10.7465C12.753 10.6289 12.4553 10.4402 12.209 10.194C11.9627 9.94771 11.774 9.65 11.6564 9.3222L11.4135 8.64842C11.3875 8.57674 11.3402 8.51476 11.2778 8.47088C11.2154 8.42701 11.1411 8.40334 11.0648 8.40308C10.9089 8.40308 10.7684 8.50158 10.7153 8.64842L10.4726 9.3222C10.3551 9.65006 10.1663 9.94782 9.92003 10.1941C9.67372 10.4403 9.37592 10.629 9.04803 10.7465L8.37485 10.9894C8.22771 11.0423 8.12891 11.1825 8.12891 11.3387C8.12891 11.4949 8.22771 11.6351 8.37425 11.688L9.04803 11.9309C9.37585 12.0485 9.67358 12.2372 9.91984 12.4834C10.1661 12.7297 10.3548 13.0274 10.4723 13.3552L10.7153 14.0293C10.7681 14.1759 10.9086 14.2744 11.0645 14.2744C11.2205 14.2744 11.361 14.1756 11.4135 14.029L11.6564 13.3552C11.774 13.0274 11.9627 12.7297 12.209 12.4835C12.4553 12.2372 12.753 12.0485 13.0808 11.9309L13.7539 11.688Z",fill:"white"})]});class d extends a.Component{constructor(t){var e,i;super(t),this.handleHide=t=>this.setState({uploadHide:!1}),this.aiPromptFun=t=>{""!=String(this.state.aiPromptCopy).trim()&&String(this.state.aiPromptCopy).trim()!=String(t.target.value).trim()&&this.setState({isRegenrate:!0}),this.setState({aiPrompt:t.target.value})},this.typeWriterEffect=()=>{const{isActiveIndex:t,addAICaption:e,addAIReview:i,item:a,layout:s}=this.props,{aiResponse:o,currentIndex:n}=this.state;var l,r;n<o.length?1==s?(e(t,(null!==(l=null===a||void 0===a?void 0:a.caption)&&void 0!==l?l:"")+o[n]),this.setState(t=>({currentIndex:t.currentIndex+1}),()=>{setTimeout(this.typeWriterEffect,20)})):(i(t,(null!==(r=null===a||void 0===a?void 0:a.review)&&void 0!==r?r:"")+o[n]),this.setState(t=>({currentIndex:t.currentIndex+1}),()=>{setTimeout(this.typeWriterEffect,20)})):this.setState({isTyping:!1,loadbtn:!1})},this.aiReviewFun=t=>{const{aiPrompt:e,rateProduct:i,layout:a}=this.state,{addAICaption:o,addAIReview:l,isActiveIndex:r}=this.props;if(this.setState({aiInput:!0,aiReadOnly:!0,isTyping:!0,currentIndex:0,review:"",aiPromptError:""}),(!i||i<=0)&&2==a)return this.setState({rateProductError:!0}),!1;const c=e.split(/\s+/).map(t=>t.length);if(!e||c.length<=2)return this.setState({aiPromptError:"Please enter at least 3 words."}),!1;this.setState({writeAiReview:!0,loadbtn:!0,aiSpinner:!0,isRegenrate:!1,aiResponse:"",rateProductError:!1}),1==a?o(r,null):l(r,null),n().post(s.Cy,{input_text:e,stars:2==a?i:0}).then(t=>{200==t.data.status_code?this.setState({aiResponse:t.data.body,aiSpinner:!1,aiPromptCopy:e,isRegenrate:!0,captionError:!1},()=>{this.typeWriterEffect()}):this.setState({loading:!1,isTyping:!1,loadbtn:!1,aiSpinner:!1,aiPromptError:t.data.body,aiPromptCopy:e,isRegenrate:!1,captionError:!1})}).catch(t=>{this.setState({error:t.message,loading:!1,isTyping:!1,loadbtn:!1,aiSpinner:!1,aiPromptError:"Internal Server Error",aiPromptCopy:e,isRegenrate:!1,captionError:!1})})},this.aiPromptEditFun=()=>{this.setState({aiReadOnly:!1},()=>{if(this.textAreaRef.current){const t=this.textAreaRef.current;t.focus(),t.setSelectionRange(t.value.length,t.value.length)}})},this.WriteWithAI=t=>{try{const{isActiveIndex:t,addAICaption:e,addAIReview:i,layout:a}=this.props;1==a?e(t,null):i(t,null),this.setState({aiInput:!0})}catch(e){console.log("WriteWithAI error",e)}},this.closeAIPrompt=t=>{try{const{isActiveIndex:t,addAICaption:e,addAIReview:i,layout:a}=this.props;1==a?e(t,null):i(t,null),this.setState({aiInput:!1,aiPromptError:""})}catch(e){console.log("closeAIPrompt",e)}},this.closeInputAIPrompt=t=>{try{const{isActiveIndex:t,addAICaption:e,addAIReview:i,layout:a}=this.props;1==a?e(t,null):i(t,null),this.setState({writeAiReview:!1,aiPrompt:"",review:"",aiPromptError:"",aiInput:!1,isRegenrate:!1})}catch(e){console.log("closeInputAIPrompt",e)}},this.state={layout:t.layout,rateProduct:t.rating,uploadHide:!0,aiInput:!1,aiPrompt:"",writeAiReview:!1,aiReadOnly:!0,aiSpinner:!1,aiPromptError:"",isRegenrate:!1,aiPromptCopy:"",captionError:!1,review:1==t.layout?null===t||void 0===t||null===(e=t.item)||void 0===e?void 0:e.caption:null===t||void 0===t||null===(i=t.item)||void 0===i?void 0:i.review},this.textAreaRef=(0,a.createRef)()}static getDerivedStateFromProps(t,e){var i,a;return t.item!==e.item?{layout:t.layout,rateProduct:t.item.rating,review:(1==t.layout?null===t||void 0===t||null===(i=t.item)||void 0===i?void 0:i.caption:null===t||void 0===t||null===(a=t.item)||void 0===a?void 0:a.review)||""}:null}render(){const{onClickToUpdateStep:t,isActiveIndex:e,isAddMoreActive:i,addCaption:a,addReview:s,item:o,onClickToUpdateMoreStep:n,defaultLabel:d}=this.props,{aiInput:h,aiPrompt:_,writeAiReview:u,aiReadOnly:p,aiPromptError:v,aiSpinner:m,isRegenrate:g,captionError:x,review:f,layout:w,rateProductError:b}=this.state,{reviewPH:j,reviewErr:C,skipBtn:S,nextBtn:y,captionPH:N,captionErr:P}=d;return console.log("layout",this.state),(0,l.jsxs)("div",{className:"tb_onsite_add_caption_tab",children:[(0,l.jsxs)("div",{className:"t_f_group",children:[u?(0,l.jsxs)("div",{className:"t_f_textarea ai_input_wrap",children:[(0,l.jsxs)("div",{className:"t_f_ai_input_wrap_",children:[(0,l.jsx)("div",{className:"t_f_ai_ico",children:(0,l.jsx)(r,{})}),(0,l.jsx)("textarea",{id:"ai_input",ref:this.textAreaRef,className:"t_from_ai_input t_f_textarea",value:_,onChange:this.aiPromptFun,placeholder:"Write Ai Review",readOnly:p,disabled:p}),(0,l.jsxs)("div",{className:"t_f_ai_btn_wrap",children:[(0,l.jsx)("div",{className:"t_f_ai_btn",onClick:this.aiPromptEditFun,children:(0,l.jsx)("div",{className:"tb__icon tb-edit"})}),(0,l.jsx)("div",{className:"t_f_ai_btn",onClick:this.closeInputAIPrompt,children:(0,l.jsx)("div",{className:"tb__icon tb-close-alt"})})]})]}),(0,l.jsxs)("div",{className:"t_f_ai_res_wrap",children:[m?(0,l.jsxs)("div",{className:"t_f_skel_wrap",children:[(0,l.jsx)("div",{class:"t_f_s_bar_wrap",children:(0,l.jsx)("div",{class:"t_f_s_bar",children:(0,l.jsx)("div",{})})}),(0,l.jsx)("div",{class:"t_f_s_bar_wrap",children:(0,l.jsx)("div",{class:"t_f_s_bar",children:(0,l.jsx)("div",{})})}),(0,l.jsx)("div",{class:"t_f_s_bar_wrap",style:{maxWidth:"50%"},children:(0,l.jsx)("div",{class:"t_f_s_bar",children:(0,l.jsx)("div",{})})})]}):null,(0,l.jsx)("textarea",{className:"t_from_textarea ".concat(x?"t_f_invalid":""),value:f,onChange:1==w?a(e):s(e)}),(0,l.jsx)("div",{className:"t_f_p_btn t_f_rg_btn t_f_l_btn".concat(g?"":" tb_disabled"),onClick:()=>!!g&&this.aiReviewFun(!1),children:"Regenerate"})]})]}):(0,l.jsxs)("div",{className:"t_f_ai_res_wrap",children:[h?(0,l.jsx)("textarea",{className:"t_from_textarea t_f_ai_prompt",value:_,onChange:this.aiPromptFun,placeholder:1==w?"Describe what your caption should be about.":"Provide a brief of the product or service for the review."}):(0,l.jsx)("textarea",{className:"t_from_textarea ".concat(x?"t_f_invalid":""),placeholder:1==w?N:j,value:f,onChange:1==w?a(e):s(e)}),h?(0,l.jsx)("div",{className:"t_f_ai_ico_text",children:(0,l.jsx)(r,{})}):"",h?(0,l.jsx)("div",{className:"t_f_ai_btn_wrap",children:(0,l.jsx)("div",{className:"t_f_ai_btn",onClick:this.closeAIPrompt,children:(0,l.jsx)("div",{className:"tb__icon tb-close-alt"})})}):"",h?(0,l.jsxs)("div",{className:"t_f_p_btn t_f_p_btn_gr t_f_ai_btn".concat(_.length<=0&&h?" tb_disabled":""),onClick:this.aiReviewFun,children:[(0,l.jsx)("div",{className:"t_f_ai_ico_btn",children:(0,l.jsx)(c,{})}),"Generate"]}):(0,l.jsxs)("div",{className:"t_f_p_btn t_f_p_btn_gr t_f_ai_btn".concat(_.length<=0&&h?" tb_disabled":""),onClick:this.WriteWithAI,children:[(0,l.jsx)("div",{className:"t_f_ai_ico_btn",children:(0,l.jsx)(c,{})})," Write with AI"]})]}),v?(0,l.jsxs)("div",{className:"t_f_error",children:[" * ",v]}):null,x?(0,l.jsxs)("div",{className:"t_f_error",children:[" * ",String(f).length<=0?"".concat(1==w?"Caption":"Review"," is required."):"".concat(1==w?"Caption":"Review"," limit of 500 exceeded!")]}):null]}),2==w?(0,l.jsx)("div",{className:"t_f_group",children:b?(0,l.jsx)("div",{className:"t_f_error t_text_center",children:" * Rating is required."}):null}):null]})}}const h=d},48768:(t,e,i)=>{i.r(e),i.d(e,{default:()=>S});var a=i(89379),s=i(9950),o=i(73878),n=i(19015),l=i(44414);const r=Array.from({length:5},(t,e)=>e+1);class c extends s.Component{constructor(t){super(t),this.handleClick=t=>{const{addRatings:e}=this.props;this.setState({activeIndex:t}),e(t)},this.handleMouseEnter=t=>{this.setState({hoverIndex:t})},this.handleMouseLeave=()=>{this.setState({hoverIndex:null})},this.state={activeIndex:null,hoverIndex:null}}render(){const{hoverIndex:t,activeIndex:e}=this.state;return(0,l.jsx)("div",{className:"t_rate_wrap",children:r.map((i,a)=>(0,l.jsx)("div",{className:"t_star_ico_wrap".concat(i<=t?" t_h_active_":"").concat(i<=e?" t_active_":""),onClick:()=>this.handleClick(i),onMouseEnter:()=>this.handleMouseEnter(i),onMouseLeave:this.handleMouseLeave,children:(0,l.jsx)("div",{className:"t_star_ico tb__icon tb-star-line",children:(0,l.jsx)("div",{})})},a))})}}const d=c;var h=i(52867),_=i(80415),u=i(66345),p=i(40347),v=i(96011),m=i.n(v),g=i(46256),x=i.n(g),f=i(16445);const w=s.lazy(()=>Promise.all([i.e(2896),i.e(6002),i.e(9708)]).then(i.bind(i,62910))),b=t=>{var e;let{isPhotoBooth:i,wall:a,type:s,onClosePopUp:o,onCloseUserPopup:n}=t;return(0,l.jsx)("div",{className:"t_modal_content",children:(0,l.jsxs)("div",{className:"t_s_wrap",children:[(0,l.jsx)("img",{className:"t_s_icon_",src:"".concat(_.th,"/media/images/").concat(s,"-icon.svg"),height:80,width:80,alt:""}),"check"==s?(0,l.jsx)("div",{className:"t_s_title",children:"Thanks for Your Efforts!"}):null,(0,l.jsx)("div",{className:"t_s_desc",children:i?a.PhotoBoothSettings.photo_booth_succ_msg:a.UgcSettings.onsite_status?a.UgcSettings.onsite_succ_msg:"Thank you for sharing your amazing content with us."}),(0,l.jsx)("div",{className:"t_f_close_wrap",children:(0,l.jsx)("button",{className:"t_f_p_btn",onClick:[179126].includes(null===a||void 0===a||null===(e=a.Wall)||void 0===e?void 0:e.owner)?n:o,children:"Close"})})]})})},j=t=>{let{logo:e}=t;return e?(0,l.jsx)("div",{className:"t_m_logo_w",children:(0,l.jsx)("img",{alt:"",className:"t_m_logo",height:20,src:e,width:130})}):null};class C extends s.Component{constructor(t){var e,i;super(t),this.handleNext=t=>this.setState({submitPost:!1}),this.hanleTab1=t=>this.setState({activeTab:1}),this.hanleTab2=t=>this.setState({activeTab:2}),this.checkUpload=t=>this.setState({fileUpload:t}),this.onShowCloseSubmitPicPopUp=t=>{const{isOpen:e}=this.state;this.setState({isOpen:!e})},this.onSubmitPostData=async t=>{var e,i;if(t)return void this.setState({submitError:!0,submitErrorMessage:"Please wait until the file is uploaded before submitting."});const{name:s,email:o,upload_image:l,is_terms_check:r,tandc:c,rateProduct:d,reviewTitle:_,review:p,layout:v,captionError:m,emailError:g}=this.state,{wallId:w,modalPop:b,wall:j,feeds:C,isPhotoBooth:S}=this.props;if(this.setState({submitError:!1}),c&&(null===s||void 0===s?void 0:s.length)>0&&((null===o||void 0===o?void 0:o.length)>0&&(0,h.DT)(o)&&!o.includes("mailinator")||[179935].includes(null===j||void 0===j||null===(e=j.Wall)||void 0===e?void 0:e.owner)&&!g||[179126].includes(null===j||void 0===j||null===(i=j.Wall)||void 0===i?void 0:i.owner)&&!g)&&c&&(1==v&&d>0&&(!u.HY||_)||2==v)&&(null===p||void 0===p?void 0:p.length)>0&&!m){var y,N,P=!!window.ugcSuite||!!window.location.href.includes("ugcSuite=1"),E={};P&&C&&C.length>0&&C.map(t=>{t&&t.Network&&Object.keys(t.Network).length>0&&29==t.Network.id&&t.value1&&(E={feedId:t.value1})});let t=[];l&&l.length>0?l.map(e=>t.push((0,a.A)({},e))):t=[{file:"",type:1,height:"",width:"",thumbnail:""}];const e=(0,a.A)((0,a.A)({wallId:null!==(y=null===j||void 0===j||null===(N=j.Wall)||void 0===N?void 0:N.wallId)&&void 0!==y?y:w,name:s,email:o,media:S?[]:t,onsite_token:b.onsite_token},E),{},{caption:p,rating:d,title:2==v?" ":_});var R,k;if([104746].includes(j.Wall.owner)&&(e.is_terms_check=r),this.setState({apiRequest:!0}),S)e.mediaBuffer=await(0,f.wt)(S,null!==(R=null===j||void 0===j||null===(k=j.Wall)||void 0===k?void 0:k.owner)&&void 0!==R?R:"","uploadURL");(0,n.VT)(e).then(t=>{var e,i;const{onsite_token:a,message:s}=t.data;this.props.onsiteTokenUpdate(a);const o=S?null===j||void 0===j||null===(e=j.PhotoBoothSettings)||void 0===e?void 0:e.photo_booth_moderation:null===j||void 0===j||null===(i=j.UgcSettings)||void 0===i?void 0:i.onsite_moderation;if(!window.location.href.includes("studio=1")&&!o&&s){const t=x()("".concat(u._6),{transports:["websocket"],transport:["websocket"],upgrade:!0,reconnection:!0,reconnectionDelay:3e3,reconnectionDelayMax:5e3,reconnectionAttempts:2});var n=new Array;n.push(w),n.push(s[0].synced),t.emit("poststatus",n),t.on("reconnect_attempt",e=>{e>2&&t.disconnect()})}this.setState({step:3,apiRequest:!1},()=>setTimeout(()=>{window.location.href.includes("onsite-upload")?window.location.href="".concat(u.EP).concat(w,"?social-wall=true"):this.props.onSitePopup(!1)},5e3),document.querySelector("html").style.overflow="auto")}).catch(t=>{const{data:e}=t.response;e&&this.setState({submitError:!0,submitErrorMessage:e.resposne_message,apiRequest:!1}),console.error(t)})}else{var I;""!=this.state.review&&0!=this.state.review.trim().length||this.setState({captionError:!0,apiRequest:!1}),null!=this.state.name&&0!=this.state.name.trim().length||this.setState({nameError:!0,apiRequest:!1}),null!=this.state.email&&0!=this.state.email.trim().length&&(0,h.DT)(this.state.email)&&!o.includes("mailinator")||[179935].includes(null===j||void 0===j||null===(I=j.Wall)||void 0===I?void 0:I.owner)||this.setState({emailError:!0,apiRequest:!1}),0==d&&this.setState({rateProductError:!0}),null!=this.state.reviewTitle&&0!=this.state.reviewTitle.trim().length||this.setState({reviewTitleError:!0,apiRequest:!1})}},this.addCaption=t=>{String(t.target.value).length<=500?this.setState({review:t.target.value,captionError:!1}):this.setState({captionError:!0,review:t.target.value})},this.addRatings=t=>this.setState({rateProduct:t,rateProductError:!1}),this.onChangeReviewTitle=t=>{this.setState({reviewTitle:t.target.value,reviewTitleError:!1})},this.addPostImage=(t,e,i,a,s,o,n,l,r,c)=>{let{upload_image:d}=this.state;const h={file:t,type:a,height:r,width:c,thumbnail:e};d.push(h),d.length>20&&(d.length=20),this.setState({upload_image:d}),this.setState({fileUpload:!1,submitError:!1})},this.onClickToRemove=(t,e)=>{const{upload_image:i}=this.state;if(i&&i.length>0){const e=i.filter(e=>e.file!=t.file);this.setState({upload_image:e,errorClickMore:!1,removedFile:t})}},this.onClickToEdit=t=>e=>{const{upload_image:i}=this.state;let a=1;i&&i[t]&&(a=i[t].activeTab),this.setState({isEdit:!0,step:1,activeTab:a})},this.onTextName=t=>{this.setState({name:t.target.value,nameError:!1},()=>{null!=this.state.name&&0!=this.state.name.length||this.setState({nameError:!0})})},this.onTextEmail=t=>{const{value:e}=t.target,{wall:i}=this.props;this.setState({email:e,emailError:!1},()=>{var a;const{email:s}=this.state,o="blur"==t.type?!(0,h.DT)(s)||s.includes("mailinator"):!s;!e&&[179935].includes(null===i||void 0===i||null===(a=i.Wall)||void 0===a?void 0:a.owner)?this.setState({emailError:!1}):o&&this.setState({emailError:!0})})},this.onUpdatereceiveMail=t=>{const{receiveMail:e}=this.state;this.setState({receiveMail:!e})},this.onUpdatetandc=t=>{const{tandc:e}=this.state;this.setState({tandc:!e})},this.onCloseUserPopup=()=>{var t;const{wallId:e,wall:i}=this.props;document.querySelector("html").style.overflow="auto",this.props.onSitePopup(!1);const a=new URLSearchParams(window.location.search).get("wallKey"),s=u.dq?"".concat(_.UM,"/").concat(e):"".concat(_.GR,"/").concat(e),o=a?"".concat(s,"?wallKey=").concat(a):s;window.location.href=[179126].includes(null===i||void 0===i||null===(t=i.Wall)||void 0===t?void 0:t.owner)?"https://www.dogparkadventures.com/thank-you/":o},this.onClosePopUp=()=>{const{wallId:t}=this.props;document.querySelector("html").style.overflow="auto",this.props.onSitePopup(!1);const e=new URLSearchParams(window.location.search).get("wallKey"),i=u.dq?"".concat(_.UM,"/").concat(t):"".concat(_.GR,"/").concat(t),a=e?"".concat(i,"?wallKey=").concat(e):i;window.location.href=a},this.termsCheck=t=>{this.setState({is_terms_check:t})},this.uploadErrorCallback=t=>{this.setState({uploadError:t,fileUpload:!1},()=>{setTimeout(()=>{this.setState({uploadError:""})},5e3)})},this.backStepFun=()=>{this.setState({step:1})},this.aiPromptFun=t=>{""!=String(this.state.aiPromptCopy).trim()&&String(this.state.aiPromptCopy).trim()!=String(t.target.value).trim()&&this.setState({isRegenrate:!0}),this.setState({aiPrompt:t.target.value})},this.typeWriterEffect=()=>{const{layout:t}=this.props,{aiResponse:e,currentIndex:i}=this.state;i<e.length?this.setState(t=>({currentIndex:t.currentIndex+1,review:"".concat(t.review).concat(e[i])}),()=>{setTimeout(this.typeWriterEffect,20)}):this.setState({isTyping:!1,loadbtn:!1})},this.aiReviewFun=t=>{const{aiPrompt:e,rateProduct:i,layout:a}=this.state;this.setState({aiInput:!0,aiReadOnly:!0,isTyping:!0,currentIndex:0,review:"",aiPromptError:""});const s=e.split(/\s+/).map(t=>t.length);if(!e||s.length<=2)return this.setState({aiPromptError:"Please enter at least 3 words."}),!1;this.setState({writeAiReview:!0,loadbtn:!0,aiSpinner:!0,isRegenrate:!1,aiResponse:"",rateProductError:!1}),m().post(u.Cy,{input_text:e,stars:2==a?i:0}).then(t=>{200==t.data.status_code?this.setState({aiResponse:t.data.body,item:t.data.body,aiSpinner:!1,aiPromptCopy:e,isRegenrate:!0,captionError:!1},()=>{this.typeWriterEffect()}):this.setState({loading:!1,isTyping:!1,loadbtn:!1,aiSpinner:!1,aiPromptError:t.data.body,aiPromptCopy:e,isRegenrate:!1,captionError:!1})}).catch(t=>{this.setState({error:t.message,loading:!1,isTyping:!1,loadbtn:!1,aiSpinner:!1,aiPromptError:"Internal Server Error",aiPromptCopy:e,isRegenrate:!1,captionError:!1})})},this.aiPromptEditFun=()=>{this.setState({aiReadOnly:!1},()=>{if(this.textAreaRef.current){const t=this.textAreaRef.current;t.focus(),t.setSelectionRange(t.value.length,t.value.length)}})},this.WriteWithAI=t=>{try{this.setState({aiInput:!0})}catch(e){console.log("WriteWithAI error",e)}},this.closeAIPrompt=t=>{try{this.setState({aiInput:!1,aiPromptError:""})}catch(e){console.log("closeAIPrompt",e)}},this.closeInputAIPrompt=t=>{try{this.setState({writeAiReview:!1,aiPrompt:"",review:"",aiPromptError:"",aiInput:!1,isRegenrate:!1})}catch(e){console.log("closeInputAIPrompt",e)}},this.state={submitPost:!0,activeTab:1,isOpen:!0,step:1,wall_id:null,name:"",email:"",upload_image:[],receiveMail:!1,tandc:!0,nameError:!1,emailError:!1,submitErrorMessage:null,apiRequest:!1,isActiveIndex:0,isAddMoreActive:!1,isEdit:!1,submitError:!1,is_terms_check:0,errorClickMore:!1,uploadError:"",rateProduct:0,reviewTitle:"",review:"",rateProductError:!1,reviewTitleError:!1,captionError:!1,layout:(null===t||void 0===t||null===(e=t.wall)||void 0===e||null===(i=e.UgcSettings)||void 0===i?void 0:i.choose_content_category)||1,removedFile:{},formLanguage:null,aiInput:!1,aiPrompt:"",aiPromptError:"",aiPromptCopy:"",writeAiReview:!1,aiReadOnly:!0,aiSpinner:!1,isRegenrate:!1,fileUpload:!1},this.textAreaRef=(0,s.createRef)()}componentDidMount(){const{wall:t,isPhotoBooth:e}=this.props;this.setState({activeTab:3==t.UgcSettings.choose_content_category?2:1}),fetch("https://cloud.socialwalls.com/react-app/media/custom_lang.json").then(t=>t.json()).then(i=>{var a,s;this.setState({formLanguage:i[e?null===t||void 0===t||null===(a=t.PhotoBoothSettings)||void 0===a?void 0:a.photo_booth_language:null===t||void 0===t||null===(s=t.UgcSettings)||void 0===s?void 0:s.onsite_language]})}).catch(t=>{console.error("Error fetching JSON file:",t)})}render(){var t,e,i,a,o,n,r,c,v,m,g,x,f,C,S,y;const{aiSpinner:N,aiReadOnly:P,aiPromptError:E,isActiveIndex:R,step:k,aiInput:I,aiPrompt:A,upload_image:M,formLanguage:T,writeAiReview:U,name:L,email:W,isRegenrate:B,tandc:F,nameError:O,emailError:q,apiRequest:D,submitError:H,submitErrorMessage:G,errorClickMore:K,uploadError:z,reviewTitle:Y,review:Z,rateProductError:V,reviewTitleError:$,captionError:J,layout:Q,removedFile:X}=this.state,{wall:tt,modalPop:et,isFreeAdsStatus:it,isPhotoBooth:at,photoBoothInterface:st}=this.props,ot={backgroundColor:at?null===tt||void 0===tt||null===(t=tt.PhotoBoothSettings)||void 0===t?void 0:t.photo_booth_bg_color:(null===tt||void 0===tt||null===(e=tt.UgcSettings)||void 0===e?void 0:e.onsite_background_color)||null,backgroundImage:"url(".concat(at?null===tt||void 0===tt||null===(i=tt.PhotoBoothSettings)||void 0===i?void 0:i.photo_booth_bg_image:tt.UgcSettings.onsite_background_image,")")},nt=(null===tt||void 0===tt?void 0:tt.UgcSettings)&&Object.keys(tt.UgcSettings).length>0&&tt.UgcSettings.onsite_status,lt=(null===tt||void 0===tt?void 0:tt.PhotoBoothSettings)&&Object.keys(tt.PhotoBoothSettings).length>0&&tt.PhotoBoothSettings.photo_booth_status,rt=at?(null===tt||void 0===tt||null===(a=tt.PhotoBoothSettings)||void 0===a?void 0:a.photo_booth_popup_title)||"Almost There!":null===tt||void 0===tt||null===(o=tt.UgcSettings)||void 0===o?void 0:o.onsite_popup_title,ct=at?(null===tt||void 0===tt||null===(n=tt.PhotoBoothSettings)||void 0===n?void 0:n.photo_booth_popup_sub_heading)||"Add a few details below, and your photo will go live":null===tt||void 0===tt||null===(r=tt.UgcSettings)||void 0===r?void 0:r.onsite_popup_sub_heading,{onClosePopUp:dt,onCloseUserPopup:ht}=this;return(0,l.jsx)("div",{className:"".concat(st?"photobooth_form_top":"t_modal"," ").concat(it?" t_brand_":""),children:(0,l.jsx)("div",{className:"".concat(st?"photobooth_form":"t_modal_wrap","  style={").concat(ot,"}"),children:tt&&(nt||lt)?(0,l.jsx)("div",{className:"".concat(st?"":"t_modal_container"),children:3==k?(0,l.jsx)(b,{isPhotoBooth:at,wall:tt,onClosePopUp:dt,onCloseUserPopup:ht,type:"check"}):(0,l.jsxs)("div",{className:"".concat(st?"":"t_modal_content"),children:[(0,l.jsx)(j,{logo:at?tt.PhotoBoothSettings.photo_booth_logo:tt.UgcSettings.onsite_logo}),st?null:(0,l.jsx)("div",{className:"t_m_close_btn tb__icon tb-close-alt",onClick:dt,children:(0,l.jsx)("div",{})}),rt?(0,l.jsx)("div",{className:"t_m_title",children:rt}):null,""!=ct?(0,l.jsx)("div",{className:"t_m_subtitle",children:ct}):null,1==Q&&1==tt.UgcSettings.choose_content_category?(0,l.jsxs)("div",{className:"t_f_group",children:[(0,l.jsx)(d,{item:M[R],addRatings:this.addRatings}),V?(0,l.jsx)("div",{className:"t_f_error t_text_center",children:" * Rating is required."}):null]}):null,1!=Q||u.aD||u.uS||u.MH?null:(0,l.jsxs)("div",{className:"t_f_group",children:[(0,l.jsxs)("div",{className:"t_label_",children:[" ","Review Title","  ",(0,l.jsx)("div",{className:"t_t_danger",children:"*"})]}),(0,l.jsx)("input",{type:"text",className:"t_from_input ".concat($?"t_f_invalid":""),placeholder:"Enter review title",onChange:this.onChangeReviewTitle,value:Y}),$?(0,l.jsx)("div",{className:"t_f_error",children:" * Review Title is required."}):null]}),at?(0,l.jsx)("div",{style:{textAlign:"center",marginBottom:"10px"},children:(0,l.jsx)("img",{src:at,className:"t_m_bg",alt:"",style:{width:"100px",height:"100px",margin:"0 auto"}})}):null,(0,l.jsxs)("div",{className:"t_f_group",children:[(0,l.jsxs)("div",{className:"t_label_",children:[(1==tt.UgcSettings.choose_content_category?null===T||void 0===T?void 0:T.Review:[179126].includes(null===tt||void 0===tt||null===(c=tt.Wall)||void 0===c?void 0:c.owner)?"TELL US ABOUT YOUR ADVENTURE, LOCATION and DOGS NAMES":null===T||void 0===T?void 0:T.UGC)||(at?"Add a caption":2==Q?"Caption":"Review"),"  ",(0,l.jsx)("div",{className:"t_t_danger",children:"*"})]}),U?(0,l.jsxs)("div",{className:"t_f_textarea ai_input_wrap",children:[(0,l.jsxs)("div",{className:"t_f_ai_input_wrap_",children:[(0,l.jsx)("div",{className:"t_f_ai_ico",children:(0,l.jsx)(p._E,{})}),(0,l.jsx)("textarea",{id:"ai_input",ref:this.textAreaRef,className:"t_from_ai_input t_f_textarea",value:A,onChange:this.aiPromptFun,placeholder:"Write Ai Review",readOnly:P,disabled:P}),(0,l.jsxs)("div",{className:"t_f_ai_btn_wrap",children:[(0,l.jsx)("div",{className:"t_f_ai_btn",onClick:this.aiPromptEditFun,children:(0,l.jsx)("div",{className:"tb__icon tb-edit"})}),(0,l.jsx)("div",{className:"t_f_ai_btn",onClick:this.closeInputAIPrompt,children:(0,l.jsx)("div",{className:"tb__icon tb-close-alt"})})]})]}),(0,l.jsxs)("div",{className:"t_f_ai_res_wrap",children:[N?(0,l.jsxs)("div",{className:"t_f_skel_wrap",children:[(0,l.jsx)("div",{class:"t_f_s_bar_wrap",children:(0,l.jsx)("div",{class:"t_f_s_bar",children:(0,l.jsx)("div",{})})}),(0,l.jsx)("div",{class:"t_f_s_bar_wrap",children:(0,l.jsx)("div",{class:"t_f_s_bar",children:(0,l.jsx)("div",{})})}),(0,l.jsx)("div",{class:"t_f_s_bar_wrap",style:{maxWidth:"50%"},children:(0,l.jsx)("div",{class:"t_f_s_bar",children:(0,l.jsx)("div",{})})})]}):null,(0,l.jsx)("textarea",{className:"t_from_textarea bbb".concat(J?"t_f_invalid":""),value:Z,onChange:this.addCaption}),(0,l.jsx)("div",{className:"t_f_p_btn t_f_rg_btn t_f_l_btn".concat(B?"":" tb_disabled"),onClick:()=>!!B&&this.aiReviewFun(!1),children:"Regenerate"})]})]}):(0,l.jsxs)("div",{className:"t_f_ai_res_wrap",children:[I?(0,l.jsx)("textarea",{className:"t_from_textarea t_f_ai_prompt",value:A,onChange:this.aiPromptFun,placeholder:1==Q?"Describe what your caption should be about.":"Provide a brief of the product or service for the review."}):(0,l.jsx)("textarea",{className:"t_from_textarea aaa".concat(J?"t_f_invalid":""),placeholder:(1==tt.UgcSettings.choose_content_category?null===T||void 0===T?void 0:T.Write_review:null===T||void 0===T?void 0:T.Write_caption)||"Write your ".concat(2==Q?"caption":"review"," here"),onChange:this.addCaption,children:Z}),I?(0,l.jsx)("div",{className:"t_f_ai_ico_text",children:(0,l.jsx)(p._E,{})}):"",I?(0,l.jsx)("div",{className:"t_f_ai_btn_wrap",children:(0,l.jsx)("div",{className:"t_f_ai_btn",onClick:this.closeAIPrompt,children:(0,l.jsx)("div",{className:"tb__icon tb-close-alt"})})}):"",I?(0,l.jsxs)("div",{className:"t_f_p_btn t_f_p_btn_gr t_f_ai_btn".concat(A.length<=0&&I?" tb_disabled":""),onClick:this.aiReviewFun,children:[(0,l.jsx)("div",{className:"t_f_ai_ico_btn",children:(0,l.jsx)(p.KH,{})}),"Generate"]}):(0,l.jsxs)("div",{className:"t_f_p_btn t_f_p_btn_gr t_f_ai_btn".concat(A.length<=0&&I?" tb_disabled":""),onClick:this.WriteWithAI,children:[(0,l.jsx)("div",{className:"t_f_ai_ico_btn",children:(0,l.jsx)(p.KH,{})})," Write with AI"]})]}),E?(0,l.jsxs)("div",{className:"t_f_error",children:[" * ",E]}):null,J?(0,l.jsxs)("div",{className:"t_f_error",children:[" * ",String(Z).length<=0?"".concat(1==Q?"Review":"Caption"," is required."):"".concat(1==Q?"Review":"Caption"," limit of 500 exceeded!")]}):null]}),at?null:(0,l.jsxs)("div",{className:"t_f_group",children:[u.aD?null:(0,l.jsx)("div",{className:"t_label_",children:"Picture/Video (optional)"}),(0,l.jsxs)("div",{className:"t_f_upload",children:[M&&M.length>0?M&&M.map((t,e)=>t.thumbnail?(0,l.jsxs)("div",{className:"t_m_up_img_wrap",onClick:this.onClickToEdit(e),children:[t.thumbnail?(0,l.jsxs)("div",{className:"t_m_up_img_in",children:[(0,l.jsx)("img",{className:"t_m_up_img",src:t.thumbnail,height:80,width:80,alt:""}),3==t.type||5==t.type?(0,l.jsx)("div",{className:"t_m_vi_ico tb__icon tb-play",children:(0,l.jsx)("div",{})}):null]}):null,(0,l.jsx)("div",{className:"t_m_remove_btn tb__icon tb-close-alt",onClick:()=>this.onClickToRemove(t,e),children:(0,l.jsx)("div",{})})]},e):null):null,(0,l.jsx)(s.Suspense,{fallback:(0,l.jsx)("div",{className:"t_m_upload",children:"Loading..."}),children:(0,l.jsx)(w,{checkUpload:this.checkUpload,formLanguage:T,isActiveIndex:R,addPostImage:this.addPostImage,onsite_token:et.onsite_token,uploadErrorCallback:this.uploadErrorCallback,upload_image:M,removedFile:X})})]}),z?(0,l.jsx)("div",{className:"t_f_error",children:z}):null]}),(0,l.jsxs)("div",{className:"t_row_",children:[(0,l.jsx)("div",{className:"t_col_",children:(0,l.jsxs)("div",{className:"t_f_group",children:[(0,l.jsxs)("div",{className:"t_label_",children:[" ",null!==(v=null===T||void 0===T?void 0:T.Name)&&void 0!==v?v:"Your Name","  ",(0,l.jsx)("div",{className:"t_t_danger",children:"*"})]}),(0,l.jsx)("input",{type:"text",className:"t_from_input ".concat(O?"t_f_invalid":""),placeholder:null!==(m=null===T||void 0===T?void 0:T.Enter_Name)&&void 0!==m?m:"Full Name",onChange:this.onTextName,value:L}),O?(0,l.jsx)("div",{className:"t_f_error",children:" Name is required."}):null]})}),[179126].includes(tt.Wall.owner)?null:(0,l.jsx)("div",{className:"t_col_",children:(0,l.jsxs)("div",{className:"t_f_group",children:[(0,l.jsxs)("div",{className:"t_label_",children:[" ",null!==(g=null===T||void 0===T?void 0:T.Email)&&void 0!==g?g:"Your Email","   ",(0,l.jsx)("div",{className:"t_t_danger",children:[179935].includes(null===tt||void 0===tt||null===(x=tt.Wall)||void 0===x?void 0:x.owner)?"":"*"})]}),(0,l.jsx)("input",{type:"text",className:"t_from_input ".concat(q?"t_f_invalid":""),placeholder:null!==(f=null===T||void 0===T?void 0:T.Enter_Email)&&void 0!==f?f:"Enter your email",onBlur:this.onTextEmail,onChange:this.onTextEmail,value:W}),q?(0,l.jsxs)("div",{className:"t_f_error",children:[" ",0!=String(W).trim().length||[179935].includes(null===tt||void 0===tt||null===(C=tt.Wall)||void 0===C?void 0:C.owner)?(0,h.DT)(W)?"":"Enter valid email.":"Email is required."]}):null]})})]}),[104746].includes(tt.Wall.owner)?(0,l.jsxs)("div",{className:"t_f_check_inline",children:[(0,l.jsx)("input",{type:"checkbox",id:"t_accept",className:"t_from_check",onChange:t=>this.termsCheck(t.target.checked?1:0)}),(0,l.jsxs)("div",{className:"t_f_label_wrap",children:[(0,l.jsx)("label",{className:"t_check_label_",htmlFor:"t_accept",children:"I agree to CALM using my story for marketing purposes --"}),(0,l.jsx)("a",{href:at?tt.PhotoBoothSettings.photo_booth_terms_url:tt.UgcSettings.onsite_terms_url,className:"t_tc_link",target:"_blank",children:"click for more information on how your story will be used."})]})]}):(0,l.jsxs)("div",{className:"t_f_group",children:[(0,l.jsxs)("div",{className:"t_f_check_inline",children:[(0,l.jsx)("input",{type:"checkbox",id:"t_accept",className:"t_from_check",value:"accept",onChange:this.onUpdatetandc,checked:F}),(0,l.jsxs)("label",{className:"t_check_label_",htmlFor:"t_accept",children:[null!==(S=null===T||void 0===T?void 0:T.Agreeing)&&void 0!==S?S:"By clicking on Submit, you are agreeing to our"," ",(0,l.jsx)("a",{href:"".concat(_.om).concat(u.uS?"review-hub-content-rights":(u.MH,"on-site-uploads-content-rights/")),className:"t_tc_link",target:"_blank",children:(0,l.jsx)("b",{children:null!==(y=null===T||void 0===T?void 0:T.TnC)&&void 0!==y?y:"Terms and conditions"})})," *"]})]}),0==F?(0,l.jsx)("div",{className:"t_f_error",children:"* Please agree to the terms and conditions to submit your media."}):null]}),H?(0,l.jsx)("div",{className:"t_f_group",children:(0,l.jsxs)("div",{className:"t_f_error",children:["* ",G||"Please check complete details."]})}):null,(0,l.jsx)("div",{className:"t_f_group t_text_center",children:(0,l.jsx)("div",{className:"t_f_p_btn ".concat(D?" t_f_btn_spinner":""),onClick:()=>{this.onSubmitPostData(this.state.fileUpload)},children:at?tt.PhotoBoothSettings.photo_booth_popup_btn_txt:tt.UgcSettings.onsite_popup_btn_txt})}),2==k?(0,l.jsx)("div",{className:"t_f_group t_text_center",children:(0,l.jsx)("div",{className:"t_f_s_btn",onClick:this.backStepFun,children:"Back"})}):null,K?(0,l.jsx)("div",{className:"t_f_error",children:"* Max 20 posts are allowed."}):null]})}):null})})}}const S=(0,o.Ng)(t=>(void 0!=t.modalPop&&1==t.modalPop.onSiteIsShowPopUp&&(document.querySelector("html").style.overflow="hidden"),{modalPop:t.modalPop}),t=>({onSitePopup:e=>t((0,n.b8)(e)),onsiteTokenUpdate:e=>t((0,n.du)(e))}))(C)},75809:(t,e,i)=>{i.d(e,{DT:()=>n,P_:()=>l,br:()=>o,cO:()=>a,ps:()=>s});const a=320,s=320,o=[{id:"background",label:"Background"},{id:"frame",label:"Frames"},{id:"sticker",label:"Stickers"},{id:"text",label:"Text"}],n=15,l=1.7}}]);